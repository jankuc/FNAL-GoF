
% MC
particle{1} = 'ele';
particle{2} = 'muo';
doParticle = [1,2];

nJets{2} = 2;
nJets{3} = 3;
nJets{4} = 4;
doNJets = [2,3,4];

data{1} = {'Train + Test vs. Yield',  'train',1,0};
data{2} = {'Train vs. Test',          'val',1,2};
data{3} = {'Train + Test vs. Data',   'train',1,3};
data{4} = {'Yield vs. Data',          'train', 0,3};

try leptonJetData = evalin( 'base', 'leptonJetData' );
catch
  leptonJetData = leptonJetsMat2Ram();
  assignin('base', 'leptonJetData', leptonJetData);
end

clear resStat

lineNum = 1;
for k = doParticle
  resStat{lineNum,1} = particle{k};
  lineNum = lineNum + 1;
  for m = doNJets
    njets = nJets{m};
    resStat{lineNum,1} = ['njets = ' num2str(nJets{m})];
    lineNum = lineNum + 1;
    resStat{lineNum,2} = 'N train';
    resStat{lineNum,3} = 'N test';
    resStat{lineNum,4} = 'N yield';
    resStat{lineNum,5} = 'W train';
    resStat{lineNum,6} = 'W test';
    resStat{lineNum,7} = 'W yield';
    lineNum = lineNum + 1;
    for l = 2:18
      %
      [~, w1] = getLeptonJetsRamData(particle{k}, l,...
        'njets', nJets{m}, 'val', 1);
      % test
      [~, w2] = getLeptonJetsRamData(particle{k}, l,...
        'njets', nJets{m}, 'val', 2);
      % yield
      [~, w3] = getLeptonJetsRamData(particle{k}, l,...
        'njets', nJets{m}, 'val', 0);
      
      lepJetType = leptonJetType(l);
      line{1} = lepJetType.toString;
      line{2} = sum(w1);
      line{3} = sum(w2);
      line{4} = sum(w3);
      line{5} = numel(w1);
      line{6} = numel(w2);
      line{7} = numel(w3);
      
      resStat{lineNum,1} = num2str(line{1});
      for kk = 2:7
        resStat{lineNum,kk} = num2str(line{kk});
        
        suma = 0;
        for kl=1:17
          suma = suma + str2num(resStat{lineNum-kl+1,kk});
        end
        resStat{lineNum+1,kk} = suma;
      end
      lineNum = lineNum + 1;
    end
    %sum
    for kk = 2:7
      suma = 0;
      for kl=1:17
        suma = suma + str2num(resStat{lineNum-kl+1,kk});
      end
      resStat{lineNum+1,kk} = suma;
    end
    % data
    [X4, w4] = getLeptonJetsRamData(particle{k},1,'njets',nJets{m},'val',3);
    resStat{lineNum,4} = sum(w4);
    resStat{lineNum,7} = numel(w4);
    lineNum = lineNum + 1;
  end
end

